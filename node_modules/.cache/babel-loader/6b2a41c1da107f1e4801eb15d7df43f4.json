{"ast":null,"code":"var _jsxFileName = \"D:\\\\SmartTest\\\\FrontSmart\\\\smartgrid-test\\\\src\\\\components\\\\PersonList.jsx\";\nimport React, { useContext, useState, useEffect, useMemo } from 'react';\nimport { Panel } from 'primereact/panel';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { Button } from 'primereact/button';\nimport { PersonContext } from \"../contexts/PersonContext\";\nimport PersonForm from './PersonForm';\n\nconst PersonList = () => {\n  const {\n    persons,\n    findPerson,\n    personTypes\n  } = useContext(PersonContext);\n  const [isVisible, setIsVisible] = useState(false);\n  useEffect(() => {\n    console.log(persons);\n    console.log(personTypes);\n  });\n\n  const savePerson = id => {\n    findPerson(id);\n    setIsVisible(true);\n  };\n\n  const footer = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-clearfix\",\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      float: \"left\"\n    },\n    icon: \"pi pi-plus\",\n    label: \"Add New Person\",\n    onClick: () => setIsVisible(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }));\n  let personstable;\n\n  if (personTypes.length > 0) {\n    personstable = useMemo(() => {\n      let personarray = persons.map(item => {\n        console.log(personTypes);\n        return { ...item,\n          personTypeId: personTypes.find(x => x.id === 1).description\n        };\n      });\n      return personarray;\n    }, [persons, personTypes]);\n  } else {\n    personstable = persons;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Panel, {\n    header: \"Person List\",\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DataTable, {\n    value: personstable,\n    selectionMode: \"single\",\n    onSelectionChange: e => savePerson(e.value.id),\n    footer: footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Column, {\n    field: \"id\",\n    header: \"Id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    field: \"name\",\n    header: \"Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    field: \"age\",\n    header: \"Age\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    field: \"personTypeId\",\n    header: \"Person Type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(PersonForm, {\n    isVisible: isVisible,\n    setIsVisible: setIsVisible,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default PersonList;","map":{"version":3,"sources":["D:/SmartTest/FrontSmart/smartgrid-test/src/components/PersonList.jsx"],"names":["React","useContext","useState","useEffect","useMemo","Panel","DataTable","Column","Button","PersonContext","PersonForm","PersonList","persons","findPerson","personTypes","isVisible","setIsVisible","console","log","savePerson","id","footer","width","float","personstable","length","personarray","map","item","personTypeId","find","x","description","textAlign","e","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,EAAiDC,OAAjD,QAAgE,OAAhE;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,aAAT,QAA8B,2BAA9B;AACA,OAAOC,UAAP,MAAuB,cAAvB;;AAGA,MAAMC,UAAU,GAAG,MAAM;AAErB,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,MAAuCb,UAAU,CAACQ,aAAD,CAAvD;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,KAAD,CAA1C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZc,IAAAA,OAAO,CAACC,GAAR,CAAYN,OAAZ;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYJ,WAAZ;AACH,GAHQ,CAAT;;AAKA,QAAMK,UAAU,GAAIC,EAAD,IAAQ;AACvBP,IAAAA,UAAU,CAACO,EAAD,CAAV;AACAJ,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACH,GAHD;;AAKA,QAAMK,MAAM,gBACR;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAf;AACI,IAAA,IAAI,EAAC,YADT;AAEI,IAAA,KAAK,EAAC,gBAFV;AAGI,IAAA,OAAO,EAAE,MAAMP,YAAY,CAAC,IAAD,CAH/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAUA,MAAIQ,YAAJ;;AACA,MAAIV,WAAW,CAACW,MAAZ,GAAqB,CAAzB,EAA4B;AACxBD,IAAAA,YAAY,GAAGpB,OAAO,CAAC,MAAM;AACzB,UAAIsB,WAAW,GAAGd,OAAO,CAACe,GAAR,CAAYC,IAAI,IAAI;AAClCX,QAAAA,OAAO,CAACC,GAAR,CAAYJ,WAAZ;AACA,eAAQ,EACJ,GAAGc,IADC;AAEJC,UAAAA,YAAY,EAAEf,WAAW,CAACgB,IAAZ,CAAiBC,CAAC,IAAIA,CAAC,CAACX,EAAF,KAAS,CAA/B,EAAkCY;AAF5C,SAAR;AAKH,OAPiB,CAAlB;AAQA,aAAON,WAAP;AACH,KAVqB,EAUnB,CAACd,OAAD,EAAUE,WAAV,CAVmB,CAAtB;AAWH,GAZD,MAaK;AACDU,IAAAA,YAAY,GAAGZ,OAAf;AACH;;AAMD,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAC,aAAd;AAA4B,IAAA,KAAK,EAAE;AAAEqB,MAAAA,SAAS,EAAE;AAAb,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAET,YADX;AAEI,IAAA,aAAa,EAAC,QAFlB;AAGI,IAAA,iBAAiB,EAAGU,CAAD,IAAOf,UAAU,CAACe,CAAC,CAACC,KAAF,CAAQf,EAAT,CAHxC;AAII,IAAA,MAAM,EAAEC,MAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,IAAd;AAAmB,IAAA,MAAM,EAAC,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,eAOI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,MAAd;AAAqB,IAAA,MAAM,EAAC,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,eAQI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,KAAd;AAAoB,IAAA,MAAM,EAAC,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,eASI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE,cAAf;AAA+B,IAAA,MAAM,EAAC,aAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,CADJ,CADJ,eAcI,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAEN,SAAvB;AAAkC,IAAA,YAAY,EAAEC,YAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdJ,CADJ;AAkBH,CAjED;;AAmEA,eAAeL,UAAf","sourcesContent":["import React, { useContext, useState, useEffect, useMemo } from 'react';\r\nimport { Panel } from 'primereact/panel';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { PersonContext } from \"../contexts/PersonContext\";\r\nimport PersonForm from './PersonForm';\r\n\r\n\r\nconst PersonList = () => {\r\n\r\n    const { persons, findPerson, personTypes } = useContext(PersonContext);\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        console.log(persons)\r\n        console.log(personTypes)\r\n    });\r\n\r\n    const savePerson = (id) => {\r\n        findPerson(id);\r\n        setIsVisible(true);\r\n    };\r\n\r\n    const footer = (\r\n        <div className=\"p-clearfix\" style={{ width: \"100%\" }}>\r\n            <Button style={{ float: \"left\" }}\r\n                icon=\"pi pi-plus\"\r\n                label=\"Add New Person\"\r\n                onClick={() => setIsVisible(true)}\r\n            ></Button>\r\n        </div>\r\n    );\r\n\r\n    let personstable;\r\n    if (personTypes.length > 0) {\r\n        personstable = useMemo(() => {\r\n            let personarray = persons.map(item => {\r\n                console.log(personTypes)\r\n                return ({\r\n                    ...item,\r\n                    personTypeId: personTypes.find(x => x.id === 1).description\r\n                }\r\n                )\r\n            });\r\n            return personarray;\r\n        }, [persons, personTypes]);\r\n    }\r\n    else {\r\n        personstable = persons;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Panel header=\"Person List\" style={{ textAlign: \"center\" }}>\r\n                <DataTable\r\n                    value={personstable}\r\n                    selectionMode=\"single\"\r\n                    onSelectionChange={(e) => savePerson(e.value.id)}\r\n                    footer={footer}>\r\n\r\n                    <Column field=\"id\" header=\"Id\"></Column>\r\n                    <Column field=\"name\" header=\"Name\"></Column>\r\n                    <Column field=\"age\" header=\"Age\"></Column>\r\n                    <Column field={\"personTypeId\"} header=\"Person Type\"></Column>\r\n                </DataTable>\r\n            </Panel>\r\n            <PersonForm isVisible={isVisible} setIsVisible={setIsVisible}></PersonForm>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PersonList;"]},"metadata":{},"sourceType":"module"}