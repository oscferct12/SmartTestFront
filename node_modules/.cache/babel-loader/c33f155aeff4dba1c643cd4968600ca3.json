{"ast":null,"code":"var _jsxFileName = \"D:\\\\SmartTest\\\\FrontSmart\\\\smartgrid-test\\\\src\\\\contexts\\\\PersonContext.jsx\";\nimport React, { createContext, useState, useEffect } from \"react\";\nimport { PersonService } from \"../services/PersonService\";\nexport const PersonContext = createContext();\n\nconst PersonContextProvider = props => {\n  const personService = new PersonService();\n  const [persons, setPersons] = useState([]);\n  const [editPerson, setEditPerson] = useState(null);\n  useEffect(() => {\n    personService.getPersons().then(data => setPersons(data.data));\n  }, [personService, persons]);\n\n  const createPerson = person => {\n    debugger;\n    personService.createPerson(person).then(data => setPersons([...persons, data.data]));\n  };\n\n  const deletePerson = personid => {\n    personService.deletePerson(personid).then(data => setPersons(persons.filter(p => p.id !== personid)));\n  };\n\n  const updatePerson = person => {\n    personService.updatePerson(person).then(data => setPersons(persons.map(p => p.id === person.id ? data.data : person)));\n    setEditPerson(null);\n  };\n\n  const findPerson = id => {\n    const person = persons.find(p => p.id === id);\n    setEditPerson(person);\n  };\n\n  return /*#__PURE__*/React.createElement(PersonContext.Provider, {\n    value: {\n      createPerson,\n      deletePerson,\n      updatePerson,\n      findPerson,\n      editPerson,\n      persons\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, props.children);\n};\n\nexport default PersonContextProvider;","map":{"version":3,"sources":["D:/SmartTest/FrontSmart/smartgrid-test/src/contexts/PersonContext.jsx"],"names":["React","createContext","useState","useEffect","PersonService","PersonContext","PersonContextProvider","props","personService","persons","setPersons","editPerson","setEditPerson","getPersons","then","data","createPerson","person","deletePerson","personid","filter","p","id","updatePerson","map","findPerson","find","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,EAAyCC,SAAzC,QAA0D,OAA1D;AACA,SAASC,aAAT,QAA8B,2BAA9B;AAEA,OAAO,MAAMC,aAAa,GAAGJ,aAAa,EAAnC;;AAEP,MAAMK,qBAAqB,GAAIC,KAAD,IAAW;AAEvC,QAAMC,aAAa,GAAG,IAAIJ,aAAJ,EAAtB;AAEA,QAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACS,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC,IAAD,CAA5C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,aAAa,CAACK,UAAd,GAA2BC,IAA3B,CAAgCC,IAAI,IAAIL,UAAU,CAACK,IAAI,CAACA,IAAN,CAAlD;AACD,GAFQ,EAEN,CAACP,aAAD,EAAgBC,OAAhB,CAFM,CAAT;;AAIA,QAAMO,YAAY,GAAIC,MAAD,IAAY;AAC/B;AACAT,IAAAA,aAAa,CAACQ,YAAd,CAA2BC,MAA3B,EAAmCH,IAAnC,CAAyCC,IAAD,IAAUL,UAAU,CAAC,CAAC,GAAGD,OAAJ,EAAaM,IAAI,CAACA,IAAlB,CAAD,CAA5D;AACD,GAHD;;AAKA,QAAMG,YAAY,GAAIC,QAAD,IAAc;AACjCX,IAAAA,aAAa,CAACU,YAAd,CAA2BC,QAA3B,EAAqCL,IAArC,CAA2CC,IAAD,IAAUL,UAAU,CAACD,OAAO,CAACW,MAAR,CAAgBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASH,QAA/B,CAAD,CAA9D;AACD,GAFD;;AAIA,QAAMI,YAAY,GAAIN,MAAD,IAAY;AAC/BT,IAAAA,aAAa,CAACe,YAAd,CAA2BN,MAA3B,EAAmCH,IAAnC,CAAyCC,IAAD,IAAUL,UAAU,CAACD,OAAO,CAACe,GAAR,CAAYH,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACK,EAAhB,GAAqBP,IAAI,CAACA,IAA1B,GAAiCE,MAAlD,CAAD,CAA5D;AACAL,IAAAA,aAAa,CAAC,IAAD,CAAb;AACD,GAHD;;AAKA,QAAMa,UAAU,GAAIH,EAAD,IAAQ;AACzB,UAAML,MAAM,GAAGR,OAAO,CAACiB,IAAR,CAAcL,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASA,EAA7B,CAAf;AACAV,IAAAA,aAAa,CAACK,MAAD,CAAb;AACD,GAHD;;AAKA,sBACE,oBAAC,aAAD,CAAe,QAAf;AACE,IAAA,KAAK,EAAE;AACLD,MAAAA,YADK;AAELE,MAAAA,YAFK;AAGLK,MAAAA,YAHK;AAILE,MAAAA,UAJK;AAKLd,MAAAA,UALK;AAMLF,MAAAA;AANK,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUGF,KAAK,CAACoB,QAVT,CADF;AAcD,CA5CD;;AA8CA,eAAerB,qBAAf","sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\r\nimport { PersonService } from \"../services/PersonService\";\r\n\r\nexport const PersonContext = createContext();\r\n\r\nconst PersonContextProvider = (props) => {\r\n\r\n  const personService = new PersonService();\r\n\r\n  const [persons, setPersons] = useState([]);\r\n  const [editPerson, setEditPerson] = useState(null);\r\n\r\n  useEffect(() => {\r\n    personService.getPersons().then(data => setPersons(data.data))\r\n  }, [personService, persons]);\r\n\r\n  const createPerson = (person) => {\r\n    debugger\r\n    personService.createPerson(person).then((data) => setPersons([...persons, data.data]));\r\n  };\r\n\r\n  const deletePerson = (personid) => {\r\n    personService.deletePerson(personid).then((data) => setPersons(persons.filter((p) => p.id !== personid)));\r\n  };\r\n\r\n  const updatePerson = (person) => {\r\n    personService.updatePerson(person).then((data) => setPersons(persons.map(p => p.id === person.id ? data.data : person)));\r\n    setEditPerson(null);\r\n  };\r\n\r\n  const findPerson = (id) => {\r\n    const person = persons.find((p) => p.id === id);\r\n    setEditPerson(person);\r\n  };\r\n\r\n  return (\r\n    <PersonContext.Provider\r\n      value={{\r\n        createPerson,\r\n        deletePerson,\r\n        updatePerson,\r\n        findPerson,\r\n        editPerson,\r\n        persons,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </PersonContext.Provider>\r\n  );\r\n}\r\n\r\nexport default PersonContextProvider;"]},"metadata":{},"sourceType":"module"}