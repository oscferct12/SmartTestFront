{"ast":null,"code":"var _jsxFileName = \"D:\\\\SmartTest\\\\FrontSmart\\\\smartgrid-test\\\\src\\\\components\\\\PersonForm.jsx\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { PersonContext } from '../contexts/PersonContext';\nimport { Dialog } from \"primereact/dialog\";\n\nconst PersonForm = props => {\n  const {\n    iVisible,\n    setIsVisible\n  } = props;\n  const {\n    createPerson,\n    deletePerson,\n    updatePerson\n  } = useContext(PersonContext);\n  const initialPersonState = {\n    id: null,\n    name: \"\",\n    age: 0,\n    personTypeId: 0\n  };\n  const [personData, setPersonData] = useState(initialPersonState);\n  useEffect(() => {\n    if (editProduct) setProductData(editProduct);\n  }, [editProduct]);\n\n  const updateField = (data, field) => {\n    setProductData({ ...productData,\n      [field]: data\n    });\n    console.log(productData);\n  };\n\n  const _deleteProduct = () => {\n    if (editProduct) {\n      deleteProduct(productData._id);\n      setProductData(initialProductState);\n    }\n\n    setIsVisible(false);\n  };\n\n  const saveProduct = () => {\n    if (!editProduct) {\n      createProduct(productData);\n    } else {\n      updateProduct(productData);\n    }\n\n    setProductData(initialProductState);\n    setIsVisible(false);\n  };\n\n  const dialogFooter = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui-dialog-buttonpane p-clearfix\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    label: \"Delete\",\n    icon: \"pi pi-times\",\n    onClick: _deleteProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: \"Save\",\n    icon: \"pi pi-check\",\n    onClick: saveProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }));\n\n  const clearSelected = () => {\n    setIsVisible(false);\n    setProductData(initialProductState);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Dialog, {\n    visible: isVisible,\n    modal: true,\n    style: {\n      width: \"420px\"\n    },\n    contentStyle: {\n      overflow: \"visible\"\n    },\n    header: \"Detalles del Producto\",\n    onHide: () => clearSelected(),\n    footer: dialogFooter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-grid p-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-float-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    value: productData.name,\n    onChange: e => updateField(e.target.value.trim(), \"name\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, \"Nombre:\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-float-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputNumber, {\n    value: productData.price,\n    onChange: e => updateField(e.target.value, \"price\"),\n    mode: \"currency\",\n    currency: \"USD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, \"Precio:\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-float-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Calendar, {\n    value: productData.expiry_date && new Date(productData.expiry_date + \" \"),\n    onChange: e => updateField(e.target.value.toISOString().substring(0, 10), \"expiry_date\"),\n    dateFormat: \"yy-mm-dd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, \"Fecha de caducidad:\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }))));\n};\n\nexport default PersonForm;","map":{"version":3,"sources":["D:/SmartTest/FrontSmart/smartgrid-test/src/components/PersonForm.jsx"],"names":["React","useContext","useState","useEffect","PersonContext","Dialog","PersonForm","props","iVisible","setIsVisible","createPerson","deletePerson","updatePerson","initialPersonState","id","name","age","personTypeId","personData","setPersonData","editProduct","setProductData","updateField","data","field","productData","console","log","_deleteProduct","deleteProduct","_id","initialProductState","saveProduct","createProduct","updateProduct","dialogFooter","clearSelected","isVisible","width","overflow","e","target","value","trim","price","expiry_date","Date","toISOString","substring"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport { PersonContext } from '../contexts/PersonContext';\r\nimport { Dialog } from \"primereact/dialog\";\r\n\r\nconst PersonForm = (props) => {\r\n\r\n    const { iVisible, setIsVisible } = props;\r\n\r\n    const {\r\n        createPerson,\r\n        deletePerson,\r\n        updatePerson\r\n    } = useContext(PersonContext)\r\n\r\n    const initialPersonState = {\r\n        id: null,\r\n        name: \"\",\r\n        age: 0,\r\n        personTypeId: 0\r\n    }\r\n\r\n    const [personData, setPersonData] = useState(initialPersonState);\r\n\r\n    useEffect(() => {\r\n        if (editProduct) setProductData(editProduct);\r\n      }, [editProduct]);\r\n\r\n    const updateField = (data, field) => {\r\n        setProductData({\r\n          ...productData,\r\n          [field]: data,\r\n        });\r\n    \r\n        console.log(productData);\r\n      };\r\n\r\n    const _deleteProduct = () => {\r\n        if (editProduct) {\r\n          deleteProduct(productData._id);\r\n          setProductData(initialProductState);\r\n        }\r\n        setIsVisible(false);\r\n      };\r\n\r\n    const saveProduct = () => {\r\n        if (!editProduct) {\r\n          createProduct(productData);\r\n        } else {\r\n          updateProduct(productData);\r\n        }\r\n        setProductData(initialProductState);\r\n        setIsVisible(false);\r\n      };\r\n\r\n    const dialogFooter = (\r\n        <div className=\"ui-dialog-buttonpane p-clearfix\">\r\n          <Button label=\"Delete\" icon=\"pi pi-times\" onClick={_deleteProduct} />\r\n          <Button label=\"Save\" icon=\"pi pi-check\" onClick={saveProduct} />\r\n        </div>\r\n      );\r\n\r\n    const clearSelected = () => {\r\n        setIsVisible(false);\r\n        setProductData(initialProductState);\r\n      };\r\n\r\n    return (<div>\r\n        <Dialog\r\n            visible={isVisible}\r\n            modal={true}\r\n            style={{ width: \"420px\" }}\r\n            contentStyle={{ overflow: \"visible\" }}\r\n            header=\"Detalles del Producto\"\r\n            onHide={() => clearSelected()}\r\n            footer={dialogFooter}\r\n        >\r\n            <div className=\"p-grid p-fluid\">\r\n                <br />\r\n                <div className=\"p-float-label\">\r\n                    <InputText\r\n                        value={productData.name}\r\n                        onChange={(e) => updateField(e.target.value.trim(), \"name\")}\r\n                    />\r\n                    <label>Nombre:</label>\r\n                </div>\r\n                <br />\r\n                <div className=\"p-float-label\">\r\n                    <InputNumber\r\n                        value={productData.price}\r\n                        onChange={(e) => updateField(e.target.value, \"price\")}\r\n                        mode=\"currency\"\r\n                        currency=\"USD\"\r\n                    />\r\n                    <label>Precio:</label>\r\n                </div>\r\n                <br />\r\n                <div className=\"p-float-label\">\r\n                    <Calendar\r\n                        value={\r\n                            productData.expiry_date &&\r\n                            new Date(productData.expiry_date + \" \")\r\n                        }\r\n                        onChange={(e) =>\r\n                            updateField(\r\n                                e.target.value.toISOString().substring(0, 10),\r\n                                \"expiry_date\"\r\n                            )\r\n                        }\r\n                        dateFormat=\"yy-mm-dd\"\r\n                    />\r\n                    <label>Fecha de caducidad:</label>\r\n                </div>\r\n                <br />\r\n            </div>\r\n        </Dialog>\r\n\r\n    </div>);\r\n}\r\n\r\nexport default PersonForm;"]},"metadata":{},"sourceType":"module"}